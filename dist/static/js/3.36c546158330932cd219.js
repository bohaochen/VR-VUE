webpackJsonp([3,6],{194:function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{visible:!0,sure:!1,imgUrl:null,quality:.5,isUnUpload:!1,chaoshi:!1,cuowu:!1,isUpload:!1,isRead:!1,isPageOut:!1,base64Img:null,teset:null,imgTitle:"点击上传个人正面自拍照",htmlImg:"",scoreArray:[{minScore:-1,maxScore:.1,starNum:0,starMsg:["竟然一点神秘感也没有？","什么情况！！！","WTF！！！"]},{minScore:.1,maxScore:.12,starNum:5,starMsg:["思想深不可测","周围人的精神信仰","神盾局局长就是你？"]},{minScore:.12,maxScore:.14,starNum:4,starMsg:["plan B计划不离手","心思细腻到令人咋舌","瞬间秒杀一票人的智商情商各种商"]},{minScore:.14,maxScore:.15,starNum:4,starMsg:["做别人所不能","想别人不敢想","永远在常人的理解范围以外"]},{minScore:.15,maxScore:.17,starNum:1,starMsg:["绝不藏着掖着","该哭就哭该笑就笑","一辈子的乐天派"]},{minScore:.17,maxScore:.19,starNum:1,starMsg:["一眼就被看穿","心思单纯","简简单单地像个长不大的孩子"]},{minScore:.19,maxScore:.2,starNum:2,starMsg:["太过正经","偶尔活泼","肯定超多人喜欢你这闷骚的小人"]},{minScore:.2,maxScore:.22,starNum:3,starMsg:["及时出手","及时出现","总能在关键时刻解决重要问题"]},{minScore:.22,maxScore:.24,starNum:3,starMsg:["时冷时热","若即若离","看透你比和阿尔法狗下棋还需要勇气"]},{minScore:.24,maxScore:.25,starNum:3,starMsg:["逢人只说三分话","从不全抛一颗心","只有神探夏洛克才能挖掘真实的你"]},{minScore:.25,maxScore:.27,starNum:3,starMsg:["你的心思不好猜","你的话不好懂","你的人需要X教授才能破解"]},{minScore:.27,maxScore:.29,starNum:3,starMsg:["掩藏着数不尽的故事","经历过别人没有的岁月","极致的内心亟待有缘人破解"]},{minScore:.29,maxScore:.3,starNum:3,starMsg:["时而安静","时而热烈","内心有一匹野马急需一片草原"]},{minScore:.3,maxScore:.32,starNum:2,starMsg:["总有新惊喜","时常新变化","了解你就像走进一个宝藏"]},{minScore:.32,maxScore:.34,starNum:1,starMsg:["经常面无表情","看似神秘","一开口就让这辈子的神秘感化为云朵飘走了～"]},{minScore:.34,maxScore:.35,starNum:1,starMsg:["一副冰块脸","不喜多言","熟悉了就立马变成撒泼打滚的小公举"]},{minScore:.35,maxScore:.37,starNum:4,starMsg:["轻易解读周围人内心的OS","身体隐藏着巨大的能量","X教授是你的谁？"]},{minScore:.37,maxScore:.39,starNum:4,starMsg:["表面上极端克制","不轻易彻底放飞自我","内心却如同进入另一个世界"]},{minScore:.39,maxScore:.4,starNum:5,starMsg:["看不清","猜不透","难道是隐藏在地球的外星人？"]},{minScore:.4,maxScore:1e6,starNum:5,starMsg:["预警！","此人神秘感爆表！！","已无法破译！！！"]}]}},mounted:function(){console.log(74*document.body.clientWidth/100),document.getElementsByClassName("starImg")[0].style.width=74*document.body.clientWidth/100+"px",document.getElementsByClassName("starImg")[0].style.height=74*document.body.clientWidth/460+"px",document.getElementsByClassName("starImg")[0].style.marginTop=-(74*document.body.clientWidth/460)/2+"px"},methods:{change:function(t){var a=this;a.teset=t,a.mashangtansuo(t)},goToUserInfo:function(){var t=this;t.$router.push({path:"ai",query:{isIndex:1,code:t.$route.query.code}})},test:function(){var t=this;t.$refs.clipper._clipper()},mashangtansuo:function(t){var a=this,e=t.length,s=parseInt(e-e/8*2);if(s>2048e3)return a.toast("自拍照不能大于2M"),a.imgTitle="重新上传",a.base64Img=null,!1;if(console.log("fileLength",s),null==t||""==t)return a.toast("请上传自拍照"),!1;var i=t.indexOf(","),n=window.localStorage.getItem("openid");i>=0&&(t=t.substr(i+1)),a.isUnUpload=!1,a.isUpload=!0,a.$http.post("v1/em?action=compare&uid="+n,{base64:t}).then(function(t){console.log("compare:==code>"+t.data.code+"openid:"+n),200==t.data.code||102==t.data.code?a.score(t.data.score):(a.isUpload=!1,a.cuowu=!0,setTimeout(function(){a.cuowu=!1,a.imgTitle="重新上传",a.base64Img=null},3e3))}).catch(function(t){a.chaoshi=!0,a.isUpload=!1,setTimeout(function(){a.chaoshi=!1,a.imgTitle="重新上传",a.base64Img=null},3e3),console.log(t)})},score:function(t){var a=this;if(0==t)return a.isUpload=!1,a.cuowu=!0,setTimeout(function(){a.cuowu=!1,a.imgTitle="重新上传",a.base64Img=null},3e3),!1;var e=null;switch(a.isUpload=!1,a.isRead=!0,setTimeout(function(){a.isPageOut=!0},5e3),a.scoreArray.forEach(function(a,s){t>=a.minScore&&t<a.maxScore&&(e=s)}),document.getElementsByClassName("score_1")[0].innerHTML=a.scoreArray[e].starMsg[0],document.getElementsByClassName("score_2")[0].innerHTML=a.scoreArray[e].starMsg[1],document.getElementsByClassName("score_3")[0].innerHTML=a.scoreArray[e].starMsg[2],a.scoreArray[e].starNum){case 0:document.getElementsByClassName("star")[0].style.width="47.6%";break;case 1:document.getElementsByClassName("star")[0].style.width="53%";break;case 2:document.getElementsByClassName("star")[0].style.width="64%";break;case 3:document.getElementsByClassName("star")[0].style.width="74%";break;case 4:document.getElementsByClassName("star")[0].style.width="85%";break;case 5:document.getElementsByClassName("star")[0].style.width="100%"}},start_upload:function(t){var a=this;a.compress(event,function(t){a.base64Img=t,a.$refs.clipper._initClipper(t)})},compress:function(t,a){var e=this;try{var s=t.currentTarget.files[0];if(!/image\/\w+/.test(s.type))return e.toast("请确保文件为图像类型"),!1;console.log("图片原始大小：",s.size);var i=null;EXIF.getData(s,function(){i=EXIF.getTag(this,"Orientation")});var n=new FileReader;n.onload=function(t){var s=new Image;s.onload=function(){var t=document.createElement("canvas");t.width=s.width,t.height=s.height;var n=s.width,o=s.height;console.log("img.width:",s.width),console.log("img.height:",s.height);var r=t.getContext("2d");r.clearRect(0,0,n,o);var c=0,l=0,m=null;if(navigator.userAgent.match(/iphone/i)&&""!=i&&1!=i)switch(i){case 6:e.rotateImg(this,"left",t);break;case 8:e.rotateImg(this,"right",t);break;case 3:e.rotateImg(this,"right",t),e.rotateImg(this,"right",t)}r.drawImage(this,c,l,n,o),m=t.toDataURL("image/png",e.quality);var d=m.length,g=parseInt(d-d/8*2);console.log("图片压缩后大小：",g),e.isUnUpload=!0,a&&a(m)},s.src=t.target.result},n.readAsDataURL(s)}catch(t){console.log("压缩失败!")}},rotateImg:function(t,a,e){var s=0,i=3;if(null!=t){var n=t.height,o=t.width,r=2;null==r&&(r=s),"right"==a?(r++,r>i&&(r=s)):(r--,r<s&&(r=i));var c=90*r*Math.PI/180,l=e.getContext("2d");switch(r){case 0:e.width=o,e.height=n,l.drawImage(t,0,0);break;case 1:e.width=n,e.height=o,l.rotate(c),l.drawImage(t,0,-n);break;case 2:e.width=o,e.height=n,l.rotate(c),l.drawImage(t,-o,-n);break;case 3:e.width=n,e.height=o,l.rotate(c),l.drawImage(t,-o,0)}}},jieping:function(t){var a=this;html2canvas(document.getElementById("app")).then(function(e){var s=void 0;s=e.toDataURL(),a.htmlImg=s,t()})}}}},451:function(t,a,e){a=t.exports=e(49)(),a.push([t.id,".content[data-v-653493fc]{width:100%;height:100%;background-color:#000;overflow:hidden;position:relative}.content .html_img[data-v-653493fc]{width:100%;position:absolute;z-index:999}.content .zd-xh-box[data-v-653493fc]{width:80%;font-size:30px;text-align:center;color:#fff;font-weight:700;display:block;margin:auto;line-height:200px;pointer-events:auto}.content .zd-xh-text-box[data-v-653493fc]{width:100%;position:relative;animation:fuxian 1s}.content .zd-xh-text[data-v-653493fc]{position:absolute;z-index:2;font-size:30px;color:#fff;font-weight:700;width:100%;display:inline-block;text-align:center;top:50%;transform:translateY(-50%)}.content .zd-xh-btn[data-v-653493fc]{width:20%;display:block;margin:auto;margin-bottom:3%;pointer-events:auto;animation:fuxian1 1s linear infinite alternate}.content .zd-xh[data-v-653493fc]{width:100%;position:absolute;bottom:0;z-index:999}.content .bg[data-v-653493fc]{width:100%;height:100%;background:url(/static/img/bg.jpg) 50%/cover;position:absolute;top:0;z-index:1}.content .score_box[data-v-653493fc]{animation:fuxian .5s linear;opacity:1;z-index:10;position:absolute;width:100%;height:100%}.content .stars[data-v-653493fc]{position:absolute;top:50%;margin-top:-25px;left:239px;height:56px;display:block;width:340px;overflow:hidden}.content .album[data-v-653493fc]{width:100%;position:absolute;top:12%;z-index:4}.content .album .score[data-v-653493fc]{width:55%;line-height:50px;border:2px solid #bb7753;border-radius:10px;color:#3bf6fe;text-shadow:0 0 10px #00fff9;background:rgba(0,0,0,.24);position:absolute;z-index:5;text-align:center;font-size:26px}.content .album .score_1[data-v-653493fc]{right:5%;top:21%}.content .album .score_2[data-v-653493fc]{left:4%;top:54%}.content .album .score_3[data-v-653493fc]{right:9%;top:74%}.content .album .album-content[data-v-653493fc]{position:absolute;height:70%;margin-left:-28.2%;width:56%;top:15%;left:50%;overflow:hidden;background:url(/static/img/renlianshibierenlian.png) no-repeat 50%/cover;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:32px}.content .album .album-content .title[data-v-653493fc]{color:#7ef9ff}.content .album .album-content .imgsss[data-v-653493fc],.content .album .album-content .upload[data-v-653493fc]{position:absolute;top:0;left:0}.content .album .album-content .upload[data-v-653493fc]{width:100%;height:100%;opacity:0;-webkit-opacity:0}.content .album .album-content .upload input[data-v-653493fc]{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0;-webkit-opacity:0}.content .album .waikuang[data-v-653493fc]{margin:auto;display:block;width:80%}.content .album .waikuangleftdian[data-v-653493fc]{position:absolute;top:27.5%;left:17.5%;height:46%;animation:fuxian .1s infinite linear alternate}.content .album .waikuangrightdian[data-v-653493fc]{position:absolute;top:27.5%;right:17.5%;height:46%;animation:fuxian .1s infinite linear alternate}.content .btns[data-v-653493fc]{width:100%;position:absolute;bottom:5%;z-index:4}.content .btns .btn1[data-v-653493fc]{width:66%;display:block;margin:auto;pointer-events:auto}.content .sb-btn[data-v-653493fc]{width:74%;position:absolute;z-index:4;top:70%;opacity:0;margin-top:-40px;left:13%;animation:fuxian .5s linear;overflow:hidden}.content .sb-btn .btn1[data-v-653493fc]{width:100%;display:block;margin:auto}.content .sb-btn .xiegang[data-v-653493fc]{position:absolute;height:100%;top:0;left:-36%;animation:laihuibaidong 2s linear infinite}.content .sb-btn .star[data-v-653493fc]{width:100%;height:100%;padding:0;overflow:hidden;position:absolute;top:0;box-sizing:border-box}.content .sb-btn .star img[data-v-653493fc]{position:relative;top:50%}.content .sb-btn .is-cs[data-v-653493fc]{text-align:center}.content .sb-btn .is-cs[data-v-653493fc],.content .sb-btn .is-read[data-v-653493fc]{position:absolute;color:#68faff;width:100%;line-height:42px;top:50%;margin-top:-21px;font-size:42px}.content .sb-btn .is-read[data-v-653493fc]{text-align:left;padding-left:42px}.content .logo[data-v-653493fc]{width:26%;position:absolute;top:20px;right:20px;z-index:2}.content .upload-end[data-v-653493fc]{position:absolute;height:70%;margin-left:-28.2%;width:56%;top:15%;left:50%;overflow:hidden;z-index:5}.content .upload-end img[data-v-653493fc]{top:0;width:100%;position:absolute}.content .saomiao-animate[data-v-653493fc]{animation:toprun 3s linear infinite alternate}@keyframes toprun{0%{transform:translateY(100%)}to{transform:translate(0)}}@keyframes laihuibaidong{0%{left:-36%}to{left:136%}}@keyframes fuxian{0%{opacity:0}to{opacity:1}}@keyframes fuxian1{0%{opacity:.4}to{opacity:1}}.content .animated[data-v-653493fc]{animation-fill-mode:forwards}.content .cntu[data-v-653493fc]{width:100%;bottom:0;position:absolute;z-index:2;animation:fuxian .5s}.content .sbsbsb[data-v-653493fc]{width:100%;position:absolute;z-index:2;animation:fuxian .5s;top:70%}",""])},459:function(t,a,e){var s=e(451);"string"==typeof s&&(s=[[t.id,s,""]]);e(56)(s,{});s.locals&&(t.exports=s.locals)},473:function(t,a,e){var s,i;e(459),s=e(194);var n=e(481);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=n.render,i.staticRenderFns=n.staticRenderFns,i._scopeId="data-v-653493fc",t.exports=s},481:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"bg"}),t._v(" "),e("img",{staticClass:"logo",attrs:{src:"/static/img/pn_logo_03.png"}}),t._v(" "),e("div",{staticClass:"album"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isRead,expression:"isRead"}],staticClass:"score_box animated"},[e("div",{staticClass:"score score_1"},[t._v("1111")]),t._v(" "),e("div",{staticClass:"score score_2"},[t._v("111")]),t._v(" "),e("div",{staticClass:"score score_3"},[t._v("1111")])]),t._v(" "),e("img",{staticClass:"waikuang",attrs:{src:"/static/img/renlianshibiekuangdengwu.png"}}),t._v(" "),e("img",{staticClass:"waikuangleftdian",attrs:{src:"/static/img/guangdian.png"}}),t._v(" "),e("img",{staticClass:"waikuangrightdian",attrs:{src:"/static/img/guangdian.png"}}),t._v(" "),e("div",{staticClass:"album-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.base64Img,expression:"!base64Img"}],staticClass:"title"},[t._v(t._s(t.imgTitle))]),t._v(" "),e("image-clipper",{directives:[{name:"show",rawName:"v-show",value:t.base64Img,expression:"base64Img"}],ref:"clipper",attrs:{img:t.base64Img},on:{ok:t.change,sure:t.sure}}),t._v(" "),e("div",{staticClass:"upload"},[e("input",{ref:"upload",attrs:{type:"file",name:"upload",accept:"image/*"},on:{change:function(a){t.start_upload(this)}}})])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}],staticClass:"upload-end"},[e("img",{staticClass:"saomiao-animate",attrs:{src:"/static/img/saomiao.png"}})])]),t._v(" "),e("div",{staticClass:"btns",style:{display:t.isUnUpload?"block":"none"}},[e("img",{staticClass:"btn1",attrs:{src:"/static/img/querenceshi.png"},on:{click:t.test}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}],staticClass:"sb-btn animated"},[e("img",{staticClass:"btn1",attrs:{src:"/static/img/titlebg1.png"}}),t._v(" "),e("img",{staticClass:"xiegang",attrs:{src:"/static/img/xiegang.png"}}),t._v(" "),e("span",{staticClass:"is-cs"},[t._v("正在启动分析...")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isRead,expression:"isRead"}],staticClass:"sb-btn animated"},[e("img",{staticClass:"btn1",attrs:{src:"/static/img/titlebg1.png"}}),t._v(" "),t._m(0)]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.chaoshi,expression:"chaoshi"}],staticClass:"sbsbsb",attrs:{src:"/static/img/sbsb_1.png"}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.cuowu,expression:"cuowu"}],staticClass:"sbsbsb",attrs:{src:"/static/img/sbsb_2.png"}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isPageOut&&t.isRead,expression:"!isPageOut&&isRead"}],staticClass:"cntu",attrs:{src:"/static/img/cntu_bc.png"}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isPageOut,expression:"isPageOut"}],staticClass:"cntu",attrs:{src:"/static/img/cntu_ewm.png"}}),t._v(" "),e("img",{staticClass:"html_img",style:{display:t.htmlImg?"block":"none"},attrs:{src:t.htmlImg}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPageOut,expression:"isPageOut"}],staticClass:"zd-xh"},[e("div",{staticClass:"zd-xh-text-box",on:{click:t.goToUserInfo}},[e("span",{staticClass:"zd-xh-text"},[t._v("\n\t          接收到重大信号，点击接收！\n\t        ")]),t._v(" "),e("img",{staticClass:"zd-xh-box",attrs:{src:"/static/img/xinhaodantanchuang.png"}})]),t._v(" "),e("img",{staticClass:"zd-xh-btn",attrs:{src:"/static/img/redbtn.png"},on:{click:t.goToUserInfo}})])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"star"},[e("img",{staticClass:"starImg",attrs:{src:"/static/img/xingxing.png"}})])}]}}});